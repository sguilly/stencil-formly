{"version":3,"file":"field-checkbox.js","sourceRoot":"","sources":["../../../../src/components/dynamic-form/fields/field-checkbox.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,CAAC,EAAS,IAAI,EAAE,KAAK,EAAgB,MAAM,eAAe,CAAC;AAM/E,MAAM,OAAO,aAAa;;;2BAEO,EAAE;;EAMjC,WAAW;IACT,OAAO,CACL,WAAK,KAAK,EAAC,yBAAyB,IACjC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;MACvC,OAAO,CACL,WAAK,KAAK,EAAC,uBAAuB;QAChC,aACE,KAAK,EAAC,mBAAmB,EACzB,IAAI,EAAC,UAAU,EACf,OAAO,EAAE,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,EACzE,OAAO,EAAE,CAAC,EAAO,EAAE,EAAE;YACnB,IAAI,IAAI,CAAC,eAAe,CAAC,QAAQ,IAAI,IAAI,EAAE;cACzC,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;cAErD,IAAI,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cACnD,IAAI,EAAE,CAAC,MAAM,CAAC,OAAO,IAAI,IAAI,EAAE;gBAC7B,IAAI,KAAK,GAAG,CAAC,EAAE;kBACb,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;iBACxB;eACF;mBAAM;gBACL,IAAI,KAAK,EAAE;kBACT,IAAI,CAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,MAAM,KAAI,CAAC,EAAE;oBACtB,KAAK,GAAG,IAAI,CAAC;mBACd;uBAAM;oBACL,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;mBACxB;iBACF;eACF;cAED,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;aAC/C;iBAAM;cACL,IAAI,EAAE,CAAC,MAAM,CAAC,OAAO,IAAI,IAAI,EAAE;gBAC7B,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;eAC3B;mBAAM;gBACL,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;eACnB;aACF;YACD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;UAChD,CAAC,GACM;QACT,eAAM,IAAI,CAAC,KAAK,CAAO,CACnB,CACP,CAAC;IACJ,CAAC,CAAC,CACE,CACP,CAAC;EACJ,CAAC;EAED,KAAK,CAAC,mBAAmB;;IACvB,IAAI,CAAC,eAAe,GAAG,CAAA,MAAA,IAAI,CAAC,eAAe,0CAAE,QAAQ,KAAI,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;EAC/E,CAAC;EAED,MAAM;IACJ,OAAO,CACL,uBAAiB,eAAe,EAAE,IAAI,CAAC,eAAe,EAAE,eAAe,EAAE,IAAI,CAAC,eAAe,IAC1F,IAAI,CAAC,WAAW,EAAE,CACH,CACnB,CAAC;EACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { Component, h, State, Prop, Event, EventEmitter } from '@stencil/core';\n\n@Component({\n  tag: 'field-checkbox',\n  styleUrl: 'field-checkbox.css',\n})\nexport class FieldCheckbox {\n  @Prop() value: any;\n  @Prop() templateOptions: any = {};\n\n  @Event() customChange: EventEmitter<any>;\n\n  displayRequired;\n\n  renderInput() {\n    return (\n      <div class=\"df-checkboxes-container\">\n        {this.templateOptions.options.map(item => {\n          return (\n            <div class=\"df-checkbox-container\">\n              <input\n                class=\"df-checkbox-input\"\n                type=\"checkbox\"\n                checked={this.value && this.value.indexOf(item.value) >= 0 ? true : false}\n                onInput={(ev: any) => {\n                  if (this.templateOptions.multiple == true) {\n                    let value = this.value ? Array.from(this.value) : [];\n\n                    let index = value ? value.indexOf(item.value) : -1;\n                    if (ev.target.checked == true) {\n                      if (index < 0) {\n                        value.push(item.value);\n                      }\n                    } else {\n                      if (value) {\n                        if (value?.length == 1) {\n                          value = null;\n                        } else {\n                          value.splice(index, 1);\n                        }\n                      }\n                    }\n\n                    this.value = value ? Array.from(value) : null;\n                  } else {\n                    if (ev.target.checked == true) {\n                      this.value = [item.value];\n                    } else {\n                      this.value = null;\n                    }\n                  }\n                  this.customChange.emit({ value: this.value });\n                }}\n              ></input>\n              <div>{item.label}</div>\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n\n  async componentWillRender() {\n    this.displayRequired = this.templateOptions?.required == true && !this.value;\n  }\n\n  render() {\n    return (\n      <field-container templateOptions={this.templateOptions} displayRequired={this.displayRequired}>\n        {this.renderInput()}\n      </field-container>\n    );\n  }\n}\n"]}
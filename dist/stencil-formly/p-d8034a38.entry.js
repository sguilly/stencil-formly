import{r as t,c as i,h as s}from"./p-e187c62c.js";import{l as n,b as e}from"./p-fdd7e6e3.js";const l=class{constructor(s){t(this,s);this.customChange=i(this,"customChange",7);this.value=undefined;this.disabled=false;this.templateOptions={}}async componentWillLoad(){let t=[];t.push(n("https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.16/css/intlTelInput.css"));t.push(e("https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.16/js/intlTelInput.min.js"));t.push(e("https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.16/js/utils.min.js"));return Promise.all(t)}componentDidRender(){console.log("ref",this.refInput);this.instance=intlTelInput(this.refInput,{initialCountry:"fr"});this.refInput.addEventListener("countrychange",(function(){console.log("countrychange")}))}renderInput(){var t;return[s("input",{ref:t=>this.refInput=t,disabled:this.disabled,class:"input "+(((t=this.templateOptions)===null||t===void 0?void 0:t.required)==true&&!this.value?" df-is-required":""),value:this.value,onInput:t=>{console.log("valid ? "+this.instance.isValidNumber());if(this.instance.isValidNumber()){this.value=this.instance.getNumber();if(this.value.length>0){this.customChange.emit({value:this.value})}}}}),s("button",{class:"button",onClick:()=>{this.value=null;this.customChange.emit({value:this.value})}},"X")]}async componentWillRender(){var t;this.displayRequired=((t=this.templateOptions)===null||t===void 0?void 0:t.required)==true&&!this.value}render(){return s("field-container",{templateOptions:this.templateOptions,displayRequired:this.displayRequired},this.renderInput())}};export{l as field_phonenumber};
//# sourceMappingURL=p-d8034a38.entry.js.map
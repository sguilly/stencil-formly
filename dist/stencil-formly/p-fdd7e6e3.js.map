{"version":3,"names":["filesadded","checkFile","filename","indexOf","addFile","loadScript","url","element","Promise","resolve","script","document","createElement","type","onload","src","appendChild","getElementsByTagName","loadModule","loadCss","link","rel","href"],"sources":["./src/utils/loadScript.ts"],"sourcesContent":["var filesadded = \"\" //list of files already added\n\nfunction checkFile(filename) {\n    if (filesadded.indexOf(\"[\" + filename + \"]\") == -1) {\n        \n        return false\n    }\n    else\n    //console.log('lib ' + filename + ' already load')\n        return true\n}\n\nfunction addFile(filename) {\n    filesadded += \"[\" + filename + \"]\" //List of files added in the form \"[filename1],[filename2],etc\"\n}\n\n\nexport function loadScript(url: any, element?: any) {\n\n    return new Promise((resolve) => {\n\n        if (checkFile(url)) {\n            resolve(null)\n        }\n        else {\n            var script = document.createElement(\"script\")\n            script.type = \"text/javascript\";\n\n            script.onload = () => {\n\n                //console.log('load Script done :'+url)\n                addFile(url)\n                resolve(null)\n            }\n\n            script.src = url;\n\n            if(element)\n            {\n                element.appendChild(script)\n            }else{\n                document.getElementsByTagName(\"head\")[0].appendChild(script);\n            }\n            \n        }\n    })\n}\n\nexport function loadModule(url: any, element?: any) {\n\n    return new Promise((resolve) => {\n\n        if (checkFile(url)) {\n            resolve(null)\n        }\n        else {\n            var script = document.createElement(\"script\")\n            script.type = \"module\";\n\n            script.onload = () => {\n\n                //console.log('load Module done :'+url)\n                addFile(url)\n                resolve(null)\n            }\n\n            script.src = url;\n\n            if(element)\n            {\n                element.appendChild(script)\n            }else{\n                document.getElementsByTagName(\"head\")[0].appendChild(script);\n            }\n            \n        }\n    })\n}\n\nexport function loadNoModule(url: any, element?: any) {\n\n    return new Promise((resolve) => {\n\n        if (checkFile(url)) {\n            resolve(null)\n        }\n        else {\n            var script = document.createElement(\"script\")\n            script.noModule = true\n\n            resolve(null)\n\n            // script.onload = () => {\n\n            //     //console.log('load NoModule done :'+url)\n            //     addFile(url)\n            //     resolve(null)\n            // }\n\n            script.src = url;\n\n            if(element)\n            {\n                element.appendChild(script)\n            }else{\n                document.getElementsByTagName(\"head\")[0].appendChild(script);\n            }\n            \n        }\n    })\n}\n\nexport function loadCss(url: any, element?: any) {\n\n    return new Promise((resolve) => {\n\n        if (checkFile(url)) {\n            resolve(null)\n        }\n        else {\n\n            var link = document.createElement(\"link\")\n            link.type = \"text/css\";\n            link.rel = \"stylesheet\"\n\n            link.onload = () => {\n\n                //console.log('load done')\n                addFile(url)\n                resolve(null)\n            }\n\n            link.href = url;\n\n            if(element)\n            {\n                element.appendChild(link)\n            }else{\n                document.getElementsByTagName(\"head\")[0].appendChild(link);\n            }\n        }\n    })\n}\n"],"mappings":"AAAA,IAAIA,EAAa,GAEjB,SAASC,EAAUC,GACf,GAAIF,EAAWG,QAAQ,IAAMD,EAAW,OAAS,EAAG,CAEhD,OAAO,K,MAIP,OAAO,IACf,CAEA,SAASE,EAAQF,GACbF,GAAc,IAAME,EAAW,GACnC,C,SAGgBG,EAAWC,EAAUC,GAEjC,OAAO,IAAIC,SAASC,IAEhB,GAAIR,EAAUK,GAAM,CAChBG,EAAQ,K,KAEP,CACD,IAAIC,EAASC,SAASC,cAAc,UACpCF,EAAOG,KAAO,kBAEdH,EAAOI,OAAS,KAGZV,EAAQE,GACRG,EAAQ,KAAK,EAGjBC,EAAOK,IAAMT,EAEb,GAAGC,EACH,CACIA,EAAQS,YAAYN,E,KACnB,CACDC,SAASM,qBAAqB,QAAQ,GAAGD,YAAYN,E,KAKrE,C,SAEgBQ,EAAWZ,EAAUC,GAEjC,OAAO,IAAIC,SAASC,IAEhB,GAAIR,EAAUK,GAAM,CAChBG,EAAQ,K,KAEP,CACD,IAAIC,EAASC,SAASC,cAAc,UACpCF,EAAOG,KAAO,SAEdH,EAAOI,OAAS,KAGZV,EAAQE,GACRG,EAAQ,KAAK,EAGjBC,EAAOK,IAAMT,EAEb,GAAGC,EACH,CACIA,EAAQS,YAAYN,E,KACnB,CACDC,SAASM,qBAAqB,QAAQ,GAAGD,YAAYN,E,KAKrE,C,SAmCgBS,EAAQb,EAAUC,GAE9B,OAAO,IAAIC,SAASC,IAEhB,GAAIR,EAAUK,GAAM,CAChBG,EAAQ,K,KAEP,CAED,IAAIW,EAAOT,SAASC,cAAc,QAClCQ,EAAKP,KAAO,WACZO,EAAKC,IAAM,aAEXD,EAAKN,OAAS,KAGVV,EAAQE,GACRG,EAAQ,KAAK,EAGjBW,EAAKE,KAAOhB,EAEZ,GAAGC,EACH,CACIA,EAAQS,YAAYI,E,KACnB,CACDT,SAASM,qBAAqB,QAAQ,GAAGD,YAAYI,E,KAIrE,Q"}
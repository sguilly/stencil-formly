import{r as t,c as e,h as i,a as s}from"./p-6eaec69f.js";import{g as r}from"./p-e1bb19e0.js";import{l as a,a as n}from"./p-fdd7e6e3.js";import"./p-772cffa5.js";const l=class{constructor(i){t(this,i),this.customChange=e(this,"customChange",7),this.disabled=!1,this.templateOptions={}}calendarHandler(t,e){console.log("New value for value: ",t),this.calendar.setDate(t)}componentWillLoad(){let t=[];return t.push(a("https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css")),t.push(n("https://cdn.jsdelivr.net/npm/flatpickr")),t.push(n("https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/fr.js")),Promise.all(t)}componentDidLoad(){let t=this;this.calendar=flatpickr(this.datePickerElement,{locale:"fr",allowInput:!0,defaultDate:"today",dateFormat:"d-m-Y",onChange:function(e,i){t.dateStr=i,t.customChange.emit({value:new Date(e)})}}),this.value&&(console.log("set value",this.value),this.calendar.setDate(this.value))}renderInput(){var t,e,s;return[i("input",{class:((null===(s=null===(e=null===(t=this.classNames)||void 0===t?void 0:t.group)||void 0===e?void 0:e.control)||void 0===s?void 0:s.className)||"")+(1==this.displayRequired?" df-is-required":""),type:"text",placeholder:"Select Date..",ref:t=>this.datePickerElement=t})]}async componentWillRender(){var t;this.classNames=r(),this.displayRequired=1==(null===(t=this.templateOptions)||void 0===t?void 0:t.required)&&!this.value}render(){return i("field-container",{templateOptions:this.templateOptions,displayRequired:this.displayRequired},this.renderInput())}get el(){return s(this)}static get watchers(){return{value:["calendarHandler"]}}};l.style='input[type="checkbox"]{transform:scale(1)}custom-datepicker input{width:100px !important}';export{l as field_datepicker}
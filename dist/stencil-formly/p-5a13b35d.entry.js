import{r as t,c as e,h as s,g as i}from"./p-03e0b87e.js";import{l as n,a}from"./p-fdd7e6e3.js";const r=class{constructor(s){t(this,s),this.customChange=e(this,"customChange",7),this.disabled=!1,this.templateOptions={}}calendarHandler(t,e){console.log("New value for value: ",t),this.calendar.setDate(t)}componentWillLoad(){let t=[];return t.push(n("https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css")),t.push(a("https://cdn.jsdelivr.net/npm/flatpickr")),t.push(a("https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/fr.js")),Promise.all(t)}componentDidLoad(){let t=this;this.calendar=flatpickr(this.datePickerElement,{locale:"fr",allowInput:!0,defaultDate:"today",dateFormat:"d-m-Y",onChange:function(e,s){t.dateStr=s,t.customChange.emit({value:new Date(e)})}}),this.value&&(console.log("set value",this.value),this.calendar.setDate(this.value))}renderInput(){return[s("input",{class:"input",type:"text",placeholder:"Select Date..",ref:t=>this.datePickerElement=t})]}async componentWillRender(){var t;this.displayRequired=1==(null===(t=this.templateOptions)||void 0===t?void 0:t.required)&&!this.value}render(){return s("field-container",{templateOptions:this.templateOptions,displayRequired:this.displayRequired},this.renderInput())}get el(){return i(this)}static get watchers(){return{value:["calendarHandler"]}}};r.style='input[type="checkbox"]{transform:scale(1)}custom-datepicker input{width:100px !important}';export{r as field_datepicker}
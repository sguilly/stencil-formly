import{r as t,c as s,h as i}from"./p-6eaec69f.js";import{l as n,b as e}from"./p-fdd7e6e3.js";const l=class{constructor(i){t(this,i),this.customChange=s(this,"customChange",7),this.disabled=!1,this.templateOptions={}}async componentWillLoad(){let t=[];return t.push(n("https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.16/css/intlTelInput.css")),t.push(e("https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.16/js/intlTelInput.min.js")),t.push(e("https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.16/js/utils.min.js")),Promise.all(t)}componentDidRender(){console.log("ref",this.refInput),this.instance=intlTelInput(this.refInput,{initialCountry:"fr"}),this.refInput.addEventListener("countrychange",(function(){console.log("countrychange")}))}renderInput(){var t;return[i("input",{ref:t=>this.refInput=t,disabled:this.disabled,class:"input "+(1!=(null===(t=this.templateOptions)||void 0===t?void 0:t.required)||this.value?"":" df-is-required"),value:this.value,onInput:()=>{console.log("valid ? "+this.instance.isValidNumber()),this.instance.isValidNumber()&&(this.value=this.instance.getNumber(),this.value.length>0&&this.customChange.emit({value:this.value}))}}),i("button",{class:"button",onClick:()=>{this.value=null,this.customChange.emit({value:this.value})}},"X")]}async componentWillRender(){var t;this.displayRequired=1==(null===(t=this.templateOptions)||void 0===t?void 0:t.required)&&!this.value}render(){return i("field-container",{templateOptions:this.templateOptions,displayRequired:this.displayRequired},this.renderInput())}};export{l as field_phonenumber}
import{r as t,c as e,h as i,a as s}from"./p-e187c62c.js";import{l as n,b as h}from"./p-fdd7e6e3.js";function d(t,e){return Object.keys(t).reduce(((i,s)=>{const n=t[s];if(e(n,s,t)){i[s]=n}return i}),{})}function u(t){return typeof t!=="undefined"}function c(t){return typeof t!=="undefined"?[].concat(typeof t==="string"?t.split(","):t):[]}const r="choices-js{min-width:200px !important}";const o=class{constructor(i){t(this,i);this.callbackChoice=e(this,"callbackChoice",7);this.valueByDefault=undefined;this.type=undefined;this.value=undefined;this.name=undefined;this.disable=undefined;this.silent=undefined;this.items=undefined;this.choices=undefined;this.renderChoiceLimit=undefined;this.maxItemCount=undefined;this.addItems=undefined;this.removeItems=undefined;this.removeItemButton=undefined;this.editItems=undefined;this.duplicateItemsAllowed=undefined;this.delimiter=undefined;this.paste=undefined;this.searchEnabled=undefined;this.searchChoices=undefined;this.searchFields=undefined;this.searchFloor=undefined;this.searchResultLimit=undefined;this.position=undefined;this.resetScrollPosition=undefined;this.shouldSort=undefined;this.shouldSortItems=undefined;this.sorter=undefined;this.placeholder=undefined;this.placeholderValue=undefined;this.searchPlaceholderValue=undefined;this.prependValue=undefined;this.appendValue=undefined;this.renderSelectedChoices=undefined;this.loadingText=undefined;this.noResultsText=undefined;this.noChoicesText=undefined;this.itemSelectText=undefined;this.addItemText=undefined;this.maxItemText=undefined;this.uniqueItemText=undefined;this.classNames=undefined;this.fuseOptions=undefined;this.addItemFilter=undefined;this.customAddItemText=undefined;this.callbackOnInit=undefined;this.callbackOnCreateTemplates=undefined;this.valueComparer=undefined}async componentWillRender(){if(typeof Choices=="undefined"){let t=[];const e="10.2.0";t.push(n("https://cdn.jsdelivr.net/npm/choices.js@"+e+"/public/assets/styles/choices.min.css"));t.push(h("https://cdn.jsdelivr.net/npm/choices.js@"+e+"/public/assets/scripts/choices.min.js"));await Promise.all(t)}}async highlightItem(t,e){this.choice.highlightItem(t,e);return this}async unhighlightItem(t){this.choice.unhighlightItem(t);return this}async highlightAll(){this.choice.highlightAll();return this}async unhighlightAll(){this.choice.unhighlightAll();return this}async removeActiveItemsByValue(t){this.choice.removeActiveItemsByValue(t);return this}async removeActiveItems(t){this.choice.removeActiveItems(t);return this}async removeHighlightedItems(t){this.choice.removeHighlightedItems(t);return this}async showDropdown(t){this.choice.showDropdown(t);return this}async hideDropdown(t){this.choice.hideDropdown(t);return this}async getValue(t){return this.choice.getValue(t)}async setValue(t){this.choice.setValue(t);return this}async setChoiceByValue(t){this.choice.setChoiceByValue(t);return this}async setChoices(t,e,i,s){this.choice.setChoices(t,e,i,s);return this}async clearChoices(){this.choice.clearChoices();return this}async clearStore(){this.choice.clearStore();return this}async clearInput(){this.choice.clearInput();return this}async enable(){this.choice.enable();return this}async ajax(t){this.choice.ajax(t);return this}componentDidLoad(){this.init()}componentDidUpdate(){this.init()}disconnectedCallback(){this.destroy()}handleSelect(t){console.log("choices ev",t.target.value)}render(){const t={"data-selector":"root",name:this.name||null};this.destroy();switch(this.type){case"single":this.element=i("select",Object.assign({onInput:t=>this.handleSelect(t)},t),this.value?this.createSelectOptions(this.value):null);break;case"multiple":this.element=i("select",Object.assign({onInput:t=>this.handleSelect(t)},t,{multiple:true}),this.value?this.createSelectOptions(this.value):null);break;case"text":default:this.element=i("input",Object.assign({type:"text",onInput:t=>this.handleSelect(t),value:this.value},t));break}return this.element}init(){const t={silent:this.silent,items:this.items,choices:this.choices,renderChoiceLimit:this.renderChoiceLimit,maxItemCount:this.maxItemCount,addItems:this.addItems,removeItems:this.removeItems,removeItemButton:this.removeItemButton,editItems:this.editItems,duplicateItemsAllowed:this.duplicateItemsAllowed,delimiter:this.delimiter,paste:this.paste,searchEnabled:this.searchEnabled,searchChoices:this.searchChoices,searchFields:this.searchFields,searchFloor:this.searchFloor,searchResultLimit:this.searchResultLimit,position:this.position,resetScrollPosition:this.resetScrollPosition,shouldSort:this.shouldSort,shouldSortItems:this.shouldSortItems,sorter:this.sorter,placeholder:true,placeholderValue:this.placeholderValue||typeof this.placeholder==="string"&&this.placeholder||" ",searchPlaceholderValue:this.searchPlaceholderValue,prependValue:this.prependValue,appendValue:this.appendValue,renderSelectedChoices:this.renderSelectedChoices,loadingText:this.loadingText,noResultsText:this.noResultsText,noChoicesText:this.noChoicesText,itemSelectText:this.itemSelectText,addItemText:this.addItemText,maxItemText:this.maxItemText,uniqueItemText:this.uniqueItemText,classNames:this.classNames,fuseOptions:this.fuseOptions,callbackOnInit:this.callbackOnInit,callbackOnCreateTemplates:this.callbackOnCreateTemplates,valueComparer:this.valueComparer,addItemFilter:this.addItemFilter,customAddItemText:this.customAddItemText};const e=d(t,u);console.log("new choice",e);this.choice=new Choices(this.root.querySelector('[data-selector="root"]'),e);if(this.valueByDefault){console.log("set default value",this.valueByDefault);this.choice.setChoiceByValue(this.valueByDefault)}else{console.log("no default value")}if(this.disable==true){this.choice.disable()}this.choice.passedElement.element.addEventListener("choice",(t=>{this.callbackChoice.emit(t.detail.choice)}),false)}destroy(){if(this.element){this.element=null}if(this.choice){this.choice.destroy();this.choice=null}}createSelectOptions(t){return c(t).map((t=>i("option",{value:t},t)))}get root(){return s(this)}};o.style=r;export{o as choices_js};
//# sourceMappingURL=p-132b0ff3.entry.js.map
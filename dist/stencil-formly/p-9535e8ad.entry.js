import{r as t,c as e,h as i,g as s}from"./p-03e0b87e.js";import{l as n,a as r}from"./p-fdd7e6e3.js";const a=class{constructor(i){t(this,i),this.customChange=e(this,"customChange",7),this.disabled=!1,this.templateOptions={}}calendarHandler(t,e){console.log("New value for value: ",t),this.calendar.setDate(t)}componentWillLoad(){let t=[];return t.push(n("https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css")),t.push(r("https://cdn.jsdelivr.net/npm/flatpickr")),t.push(r("https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/fr.js")),Promise.all(t)}componentDidLoad(){let t=this;this.calendar=flatpickr(this.datePickerElement,{locale:"fr",allowInput:!0,enableTime:!0,noCalendar:!0,dateFormat:"H:i",time_24hr:!0,defaultDate:"12:00",onChange:function(e,i){t.dateStr=i,console.log(e,i),t.customChange.emit({value:new Date(e)})}}),this.value&&(console.log("set value",this.value),this.calendar.setDate(this.value))}renderInput(){return[i("input",{class:"input",type:"text",placeholder:"Select Time..",ref:t=>this.datePickerElement=t})]}async componentWillRender(){var t;this.displayRequired=1==(null===(t=this.templateOptions)||void 0===t?void 0:t.required)&&!this.value}render(){return i("field-container",{templateOptions:this.templateOptions,displayRequired:this.displayRequired},this.renderInput())}get el(){return s(this)}static get watchers(){return{value:["calendarHandler"]}}};a.style="custom-timepicker input{width:100px !important}";export{a as field_timepicker}
import{r as t,c as s,h as e,a as i}from"./p-6eaec69f.js";import{l as h,b as n}from"./p-fdd7e6e3.js";function c(t){return void 0!==t}const r=class{constructor(e){t(this,e),this.callbackChoice=s(this,"callbackChoice",7)}async componentWillRender(){if("undefined"==typeof Choices){let t=[];const s="10.1.0";t.push(h("https://cdn.jsdelivr.net/npm/choices.js@"+s+"/public/assets/styles/choices.min.css")),t.push(n("https://cdn.jsdelivr.net/npm/choices.js@"+s+"/public/assets/scripts/choices.min.js")),await Promise.all(t)}}async highlightItem(t,s){return this.choice.highlightItem(t,s),this}async unhighlightItem(t){return this.choice.unhighlightItem(t),this}async highlightAll(){return this.choice.highlightAll(),this}async unhighlightAll(){return this.choice.unhighlightAll(),this}async removeActiveItemsByValue(t){return this.choice.removeActiveItemsByValue(t),this}async removeActiveItems(t){return this.choice.removeActiveItems(t),this}async removeHighlightedItems(t){return this.choice.removeHighlightedItems(t),this}async showDropdown(t){return this.choice.showDropdown(t),this}async hideDropdown(t){return this.choice.hideDropdown(t),this}async getValue(t){return this.choice.getValue(t)}async setValue(t){return this.choice.setValue(t),this}async setChoiceByValue(t){return this.choice.setChoiceByValue(t),this}async setChoices(t,s,e,i){return this.choice.setChoices(t,s,e,i),this}async clearChoices(){return this.choice.clearChoices(),this}async clearStore(){return this.choice.clearStore(),this}async clearInput(){return this.choice.clearInput(),this}async enable(){return this.choice.enable(),this}async ajax(t){return this.choice.ajax(t),this}componentDidLoad(){this.init()}componentDidUpdate(){this.init()}disconnectedCallback(){this.destroy()}handleSelect(t){console.log("choices ev",t.target.value)}render(){const t={"data-selector":"root",name:this.name||null};switch(this.destroy(),this.type){case"single":this.element=e("select",Object.assign({onInput:t=>this.handleSelect(t)},t),this.value?this.createSelectOptions(this.value):null);break;case"multiple":this.element=e("select",Object.assign({onInput:t=>this.handleSelect(t)},t,{multiple:!0}),this.value?this.createSelectOptions(this.value):null);break;case"text":default:this.element=e("input",Object.assign({type:"text",onInput:t=>this.handleSelect(t),value:this.value},t))}return this.element}init(){const t=(s={silent:this.silent,items:this.items,choices:this.choices,renderChoiceLimit:this.renderChoiceLimit,maxItemCount:this.maxItemCount,addItems:this.addItems,removeItems:this.removeItems,removeItemButton:this.removeItemButton,editItems:this.editItems,duplicateItemsAllowed:this.duplicateItemsAllowed,delimiter:this.delimiter,paste:this.paste,searchEnabled:this.searchEnabled,searchChoices:this.searchChoices,searchFields:this.searchFields,searchFloor:this.searchFloor,searchResultLimit:this.searchResultLimit,position:this.position,resetScrollPosition:this.resetScrollPosition,shouldSort:this.shouldSort,shouldSortItems:this.shouldSortItems,sorter:this.sorter,placeholder:!0,placeholderValue:this.placeholderValue||"string"==typeof this.placeholder&&this.placeholder||" ",searchPlaceholderValue:this.searchPlaceholderValue,prependValue:this.prependValue,appendValue:this.appendValue,renderSelectedChoices:this.renderSelectedChoices,loadingText:this.loadingText,noResultsText:this.noResultsText,noChoicesText:this.noChoicesText,itemSelectText:this.itemSelectText,addItemText:this.addItemText,maxItemText:this.maxItemText,uniqueItemText:this.uniqueItemText,classNames:this.classNames,fuseOptions:this.fuseOptions,callbackOnInit:this.callbackOnInit,callbackOnCreateTemplates:this.callbackOnCreateTemplates,valueComparer:this.valueComparer,addItemFilter:this.addItemFilter,customAddItemText:this.customAddItemText},e=c,Object.keys(s).reduce(((t,i)=>{const h=s[i];return e(h,i,s)&&(t[i]=h),t}),{}));var s,e;console.log("new choice",t),this.choice=new Choices(this.root.querySelector('[data-selector="root"]'),t),this.valueByDefault?(console.log("set default value",this.valueByDefault),this.choice.setChoiceByValue(this.valueByDefault)):console.log("no default value"),1==this.disable&&this.choice.disable(),this.choice.passedElement.element.addEventListener("choice",(t=>{this.callbackChoice.emit(t.detail.choice)}),!1)}destroy(){this.element&&(this.element=null),this.choice&&(this.choice.destroy(),this.choice=null)}createSelectOptions(t){return(s=t,void 0!==s?[].concat("string"==typeof s?s.split(","):s):[]).map((t=>e("option",{value:t},t)));var s}get root(){return i(this)}};r.style="choices-js{min-width:200px !important}";export{r as choices_js}
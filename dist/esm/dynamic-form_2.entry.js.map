{"file":"dynamic-form.example-1.entry.js","mappings":"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","names":[],"sources":["./src/components/dynamic-form/dynamic-form.css?tag=dynamic-form","./src/components/dynamic-form/dynamic-form.tsx","./src/examples/example-1.tsx"],"sourcesContent":[".df-fields-container {\n  display: flex !important;\n  flex-direction: row !important;\n  flex-wrap: wrap !important;\n  align-content: stretch !important;\n}\n\n.df-is-required {\n  border-color: #f14668 !important;\n  color: #f14668 !important;\n}\n\n.is-flex-grow-0 {\n  flex-grow: 0 !important;\n}\n\n.is-flex-grow-1 {\n  flex-grow: 1 !important;\n}\n\n.is-flex-grow-2 {\n  flex-grow: 2 !important;\n}\n\n.is-flex-grow-3 {\n  flex-grow: 3 !important;\n}\n\n.is-flex-grow-4 {\n  flex-grow: 4 !important;\n}\n\n.is-flex-grow-5 {\n  flex-grow: 5 !important;\n}\n","import { Component, h, Prop, Event, EventEmitter } from '@stencil/core';\nimport { loadCss } from '../../utils/loadScript';\n\nimport { state, onChange } from '../../stores/styleStore';\n\n@Component({\n  tag: 'dynamic-form',\n  styleUrl: 'dynamic-form.css',\n})\nexport class DynamicForm {\n  @Prop() model = {};\n  @Prop() fields;\n  @Prop() options: any;\n\n  @Event() event: EventEmitter<any>;\n\n  async componentWillLoad() {\n    let promises = [];\n    if (this.options.style) {\n      state.style = this.options.style;\n    }\n\n    if (state.style == 'bulma') {\n      promises.push(loadCss('https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css'));\n    } else if (state.style == 'bootstrap') {\n      promises.push(loadCss('https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css'));\n    }\n\n    if (promises.length) {\n      await Promise.all(promises);\n    }\n  }\n\n  renderField(element) {\n    let isDisabled = false;\n    if (element.disable) {\n      isDisabled = element.disable(this.model);\n    }\n\n    element.templateOptions.requiredText = this.options?.requiredText || 'This field is required';\n\n    const Tag = 'field-' + element.type;\n\n    return (\n      <Tag\n        value={this.model[element.key]}\n        templateOptions={element.templateOptions}\n        onCustomChange={ev => {\n          if (ev.detail?.value) {\n            this.model[element.key] = ev.detail?.value;\n          } else {\n            delete this.model[element.key];\n          }\n\n          this.model = { ...this.model };\n          this.event.emit({ type: 'change', model: this.model });\n        }}\n      ></Tag>\n    );\n  }\n\n  renderFields(elements) {\n    return elements.map(element => {\n      let isHide = false;\n      if (element.hide) {\n        isHide = element.hide(this.model);\n      }\n\n      if (isHide == false) {\n        if (element.type == 'line') {\n          return [\n            <div class=\"df-fields-container\">\n              {element.fields.map(element => {\n                return (\n                  <div class={(element.type != 'html' ? this.options?.fieldClass : '') + ' is-flex-grow-' + (element.size || 1) + ' ' + (element.className || '')}>\n                    {this.renderField(element)}\n                  </div>\n                );\n              })}\n            </div>,\n\n            element.separator == true ? <hr style={{ 'text-align': 'left' }} /> : null,\n          ];\n        } else {\n          return [\n            <div class={element.type != 'html' ? this.options?.fieldClass : ''}>{this.renderField(element)}</div>,\n            element.separator == true ? <hr style={{ 'text-align': 'left' }} /> : null,\n          ];\n        }\n      }\n    });\n  }\n\n  render() {\n    console.log('render form', this.model, this.fields);\n    return <div>{this.fields?.length ? this.renderFields(this.fields) : null}</div>;\n  }\n}\n","import { Component, h } from '@stencil/core';\n\n@Component({\n  tag: 'example-1',\n})\nexport class Example1 {\n  model = {\n    firstName: 'St√©phane',\n    lastName: 'GUILLY',\n  };\n\n  form = [\n    {\n      type: 'html',\n      templateOptions: {\n        html: `\n        <article class=\"message is-success mb-4\">\n          <div class=\"message-header\">\n            <p>Green Header</p>\n            \n          </div>\n          <div class=\"message-body\">\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit. <strong>Pellentesque risus mi</strong>, tempus quis placerat ut, porta nec nulla. Vestibulum rhoncus ac ex sit amet fringilla. Nullam gravida purus diam, et dictum <a>felis venenatis</a> efficitur. Aenean ac <em>eleifend lacus</em>, in mollis lectus. Donec sodales, arcu et sollicitudin porttitor, tortor urna tempor ligula, id porttitor mi magna a neque. Donec dui urna, vehicula et sem eget, facilisis sodales sem.\n          </div>\n        </article>`,\n      },\n    },\n    {\n      type: 'line',\n      separator: true,\n      fields: [\n        {\n          key: 'firstName',\n          type: 'input',\n          templateOptions: {\n            label: 'First Name',\n            required: true,\n          },\n          size: '1',\n        },\n        {\n          key: 'lastName',\n          type: 'input',\n          templateOptions: {\n            label: 'Last Name',\n            required: true,\n          },\n          size: '1',\n        },\n      ],\n    },\n    {\n      key: 'email',\n      type: 'input',\n      separator: true,\n      templateOptions: {\n        label: 'Email',\n        required: true,\n      },\n    },\n\n    {\n      type: 'html',\n      templateOptions: {\n        html: `\n        <article class=\"message is-warning mb-4\">\n          <div class=\"message-header\">\n            <p>Yellow header</p>\n            \n          </div>\n         \n        </article>`,\n      },\n    },\n    {\n      type: 'line',\n      separator: true,\n      fields: [\n        {\n          key: 'birthday',\n          type: 'datepicker',\n          templateOptions: {\n            label: 'Birthday Date',\n            required: true,\n          },\n        },\n        {\n          key: 'birthdayTime',\n          type: 'timepicker',\n          templateOptions: {\n            label: 'Birthday Time',\n            required: true,\n          },\n        },\n        {\n          key: 'type1',\n          type: 'select',\n          templateOptions: {\n            label: 'Birthday Country',\n            required: true,\n            options: [\n              {\n                id: 1,\n                value: 1,\n                label: 'France',\n              },\n              {\n                id: 2,\n                value: 2,\n                label: 'Italy',\n              },\n              {\n                id: 3,\n                value: 3,\n                label: 'Spain',\n              },\n            ],\n          },\n        },\n        {\n          key: 'phone',\n          type: 'phonenumber',\n          templateOptions: {\n            label: 'Phone Number :',\n            required: true,\n          },\n        },\n      ],\n    },\n    {\n      key: 'slider',\n      type: 'slider',\n      templateOptions: {\n        label: 'Dark Level :',\n        required: true,\n      },\n    },\n    {\n      key: 'displayDocs',\n      type: 'checkbox',\n      templateOptions: {\n        label: 'Do you want to add documents ?',\n        required: true,\n        multiple: false,\n        options: [\n          {\n            value: true,\n            label: 'YES',\n          },\n          {\n            value: false,\n            label: 'NO',\n          },\n        ],\n      },\n    },\n    {\n      key: 'docs',\n      hide: model => {\n        return model?.displayDocs?.length && model.displayDocs[0] == true ? false : true;\n      },\n      type: 'docs',\n      templateOptions: {\n        label: 'Documents :',\n        required: true,\n      },\n    },\n    {\n      key: 'level',\n      type: 'checkbox',\n      templateOptions: {\n        label: 'Level',\n        required: false,\n        multiple: true,\n        options: [\n          {\n            value: 1,\n            label: 'LOW',\n          },\n          {\n            value: 2,\n            label: 'MEDIUM',\n          },\n          {\n            value: 3,\n            label: 'HIGH',\n          },\n        ],\n      },\n    },\n    {\n      key: 'comment',\n      type: 'textarea',\n      templateOptions: {\n        label: 'Notes',\n        required: true,\n      },\n    },\n  ];\n\n  save() {}\n\n  render() {\n    return (\n      <div class=\"m-4\">\n        <dynamic-form\n          model={this.model}\n          fields={this.form}\n          options={{\n            fieldClass: 'ml-4 mr-4',\n            requiredText: 'This field is required !',\n            style: 'bulma',\n          }}\n        ></dynamic-form>\n        ;\n      </div>\n    );\n  }\n}\n"],"version":3}